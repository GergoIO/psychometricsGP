% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fn_scores_by_demographics.R
\name{fn_scores_by_demographics}
\alias{fn_scores_by_demographics}
\title{Calculate demographic breakdowns of scores and pass rates}
\usage{
fn_scores_by_demographics(
  data,
  col_stage_current,
  col_score,
  col_grade,
  passing_grades,
  cols_demographics
)
}
\arguments{
\item{data}{A data frame containing the student data to analyze.}

\item{col_stage_current}{A character string specifying the column name that contains the stage information.}

\item{col_score}{A character string specifying the column name containing the numerical scores to analyze.}

\item{col_grade}{A character string specifying the column name containing the grade information.}

\item{passing_grades}{A vector of values that are considered passing grades.}

\item{cols_demographics}{A character vector specifying the column names of demographic factors to analyze.}
}
\value{
A tibble with the following columns:
  \item{StageCurrent}{The current educational stage}
  \item{Factor}{The demographic factor being analyzed}
  \item{Level}{The specific category/level within the demographic factor}
  \item{Count}{The number of students in each category}
  \item{ObservedMean}{The mean score observed for each category}
  \item{AdjustedMean}{The adjusted mean score calculated using linear models}
  \item{PassCount}{The number of students with passing grades in each category}
  \item{PassRate}{The percentage of students with passing grades in each category}
}
\description{
This function analyzes educational performance metrics broken down by demographic factors.
It calculates observed and adjusted mean scores, student counts, and passing rates for
each demographic category. The function also accounts for different educational stages
and generates statistics for each valid demographic factor.
}
\details{
The function processes each demographic factor within each stage, excluding factors with fewer
than two distinct categories. It calculates both observed means (raw averages) and
adjusted means (using linear models via emmeans). The pass rate is calculated as the
percentage of students within each demographic category who achieved one of the specified
passing grades.
}
\note{
The function requires the dplyr, emmeans, and rlang packages.
}
\examples{
\dontrun{
# Example with a student dataset
results <- fn_scores_by_demographics(
  data = student_data,
  col_stage_current = "Stage",
  col_score = "FinalScore",
  col_grade = "LetterGrade",
  passing_grades = c("A", "B", "C"),
  cols_demographics = c("Gender", "Ethnicity", "SES")
)

# View results
print(results)
}

}
