% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fn_round_table.R
\name{fn_round_table}
\alias{fn_round_table}
\title{Round Values in Data Frame by Rows and Columns}
\usage{
fn_round_table(data, ..., rows_first = TRUE, use_max_precision = FALSE)
}
\arguments{
\item{data}{A data frame containing values to be rounded.}

\item{...}{Row and column specifications. These should be pairs of arguments:
* `rows` (or `rows2`, `rows3`, etc.): Row indices or names to be rounded
* `rows_decimal` (or `rows_decimal2`, `rows_decimal3`, etc.): Number of decimal places for corresponding rows
* `cols` (or `cols2`, `cols3`, etc.): Column indices or names to be rounded
* `cols_decimal` (or `cols_decimal2`, `cols_decimal3`, etc.): Number of decimal places for corresponding columns}

\item{rows_first}{Logical. If TRUE (default), rows are processed before columns in sequential mode.
This parameter has no effect when `use_max_precision` is TRUE.}

\item{use_max_precision}{Logical. If TRUE, the function uses the maximum precision mode where
each cell is rounded to the maximum number of decimal places specified for it in any row or column specification.
If FALSE (default), it uses sequential mode where rounding is applied in order.}
}
\value{
A data frame with specified numeric values rounded according to the parameters.
}
\description{
Rounds numeric values in a data frame with fine-grained control over which rows and columns are rounded
and to how many decimal places. This function supports two rounding modes: sequential (traditional)
and maximum precision. It can handle an arbitrary number of row and column specifications.
}
\details{
The function has two operational modes:

1. Sequential Mode (`use_max_precision = FALSE`): Rounding is applied sequentially. The `rows_first` parameter
   determines whether rows or columns are processed first. This means that later operations may override
   earlier ones when cells are at the intersection of specified rows and columns.

2. Maximum Precision Mode (`use_max_precision = TRUE`): The function first analyzes all specifications to
   determine the maximum number of decimal places required for each cell, then applies rounding once.
   The `rows_first` parameter has no effect in this mode.

For specifying multiple sets of rows or columns, append a number to the parameter name (e.g., `rows2`, `rows3`).
Each row or column specification must have a corresponding decimal places specification.

The function converts numeric values to character strings after rounding. It also:
* Preserves NA values
* Leaves non-numeric values unchanged
* Replaces values that round to zero with a threshold string (e.g., "<0.001" for 3 decimal places)
}
\examples{
# Create a sample data frame
df <- data.frame(
  A = c(1.23456, 2.34567, 3.45678),
  B = c(4.56789, 5.67890, 6.78901),
  C = c("text", "NA", "7.89012")
)

# Round specific rows and columns with sequential processing
fn_round_table(
  df,
  rows = 1,
  rows_decimal = 2,
  cols = "B",
  cols_decimal = 3,
  rows_first = TRUE
)

# Use maximum precision mode to handle intersections
fn_round_table(
  df,
  rows = 1:2,
  rows_decimal = 2,
  cols = "B",
  cols_decimal = 4,
  use_max_precision = TRUE
)

# Specify multiple sets of rows and columns
fn_round_table(
  df,
  rows = 1,
  rows_decimal = 2,
  rows2 = 3,
  rows_decimal2 = 4,
  cols = "A",
  cols_decimal = 1,
  cols2 = "B",
  cols_decimal2 = 3
)

}
