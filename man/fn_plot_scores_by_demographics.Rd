% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fn_plot_scores_by_demographics.R
\name{fn_plot_scores_by_demographics}
\alias{fn_plot_scores_by_demographics}
\title{Plot Distribution of Scores by Demographic Variables}
\usage{
fn_plot_scores_by_demographics(
  data,
  score_col = "Score",
  cols_demographics,
  demographics_names = NULL,
  exclude_na = NULL,
  save_path = NULL,
  width_cm = 20,
  height_cm = 15,
  dpi = 300,
  title_label = "Distribution of Scores by",
  x_label = "Score (Raw Score)",
  y_label = "Frequency (N Students)",
  x_scale = c(0, 100),
  x_breaks_major = seq(0, 100, 10),
  x_breaks_minor = seq(0, 100, 1),
  show_means = FALSE,
  means_decimals = 2,
  show_counts = FALSE,
  legend_ncol = NULL,
  legend_order = "mean",
  vertical_lines = NULL,
  vertical_line_colors = "darkgrey",
  vertical_line_types = "dashed",
  color_palette = "Set3",
  use_density = FALSE,
  use_facets = FALSE,
  facet_threshold = 10
)
}
\arguments{
\item{data}{A data frame containing the score and demographic columns}

\item{score_col}{Name of the column containing score values}

\item{cols_demographics}{Vector of column names for demographic variables}

\item{demographics_names}{Optional vector of display names for demographic variables (must match length of cols_demographics)}

\item{exclude_na}{Logical vector indicating whether to exclude NA values for each demographic (single value will be recycled)}

\item{save_path}{Optional path to save the plots as image files}

\item{width_cm}{Width of saved plots in centimeters}

\item{height_cm}{Height of saved plots in centimeters}

\item{dpi}{Resolution of saved plots in dots per inch}

\item{title_label}{Prefix text for plot titles}

\item{x_label}{Label for x-axis}

\item{y_label}{Label for y-axis}

\item{x_scale}{Vector of length 2 specifying x-axis limits (min, max)}

\item{x_breaks_major}{Vector specifying major tick marks on x-axis}

\item{x_breaks_minor}{Vector specifying minor tick marks on x-axis}

\item{show_means}{Logical, whether to show group means in the legend}

\item{means_decimals}{Number of decimal places for mean values in legend}

\item{show_counts}{Logical, whether to show group counts in the legend}

\item{legend_ncol}{Number of columns in the legend (NULL for automatic)}

\item{legend_order}{How to order legend items: "count" (by frequency), "mean" (by average score), or "name" (alphabetically)}

\item{vertical_lines}{Optional numeric vector of x-positions for vertical reference lines}

\item{vertical_line_colors}{Optional vector of colors for vertical lines (recycled if needed)}

\item{vertical_line_types}{Optional vector of line types for vertical lines (recycled if needed)}

\item{color_palette}{Name of RColorBrewer palette to use (default "Set3") or a vector of custom colors}

\item{use_density}{Logical, whether to show density plots instead of histograms}

\item{use_facets}{Logical, whether to create faceted plots for demographics with many categories}

\item{facet_threshold}{Number of categories above which faceted plots are created (if use_facets is TRUE)}
}
\value{
A list of ggplot objects, one for each demographic variable
}
\description{
Creates histograms showing the distribution of scores across different demographic variables.
Each demographic group is color-coded, and the plots can be customized with various options.
}
\examples{
\dontrun{
# Basic usage
plots <- fn_plot_scores_by_demographics(
  data = student_data,
  score_col = "FinalScore",
  cols_demographics = c("Gender", "Ethnicity"),
  exclude_na = TRUE
)

# Display one of the plots
plots$Gender

# Complex example with custom options
plots <- fn_plot_scores_by_demographics(
  data = student_data,
  score_col = "FinalScore",
  cols_demographics = c("Gender", "Ethnicity", "Programme"),
  demographics_names = c("Student Gender", "Ethnicity Group", "Programme Type"),
  exclude_na = TRUE,
  show_means = TRUE,
  show_counts = TRUE,
  vertical_lines = c(60, 70),  # Pass/fail thresholds
  color_palette = "Spectral",
  use_density = FALSE
)
}

}
